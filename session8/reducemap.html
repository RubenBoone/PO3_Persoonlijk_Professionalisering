<script>
    map([1,2,3], function(n) {document.write(n * n); });
    function map (list, fn){
        return list.reduce(function(newList, item){
            return newList.concat(fn(item));
        }, [])
    }
</script>